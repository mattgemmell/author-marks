/* ==========================================================
 * AuthorMarks Script
 * ==========================================================
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */(function(e){"use strict";function n(){this.author_marks_highlighted=!1;this.highlighted_class="marks-highlighted";this.toggle_links=document.getElementsByClassName("toggle-marks-highlight");this.author_marks=document.getElementsByClassName("author-mark");this.author_marks.length>0&&this.init();return this}var t={addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},forEach:function(e,t){for(var n=0;n<e.length;n++)t(e[n])}};n.prototype.init=function(){var e=this;t.forEach(this.toggle_links,function(n){n.style.display===""&&(n.style.display="inline");t.addEvent(n,"click",function(t){e.toggleAuthorMarks(t)})})};n.prototype.toggleAuthorMarks=function(e){this.author_marks_highlighted?this.hideAuthorMarks():this.showAuthorMarks();this.author_marks_highlighted=!this.author_marks_highlighted;typeof e!="undefined"&&e.preventDefault()};n.prototype.showAuthorMarks=function(){var e=this;t.forEach(this.author_marks,function(t){t.className=t.className+" "+e.highlighted_class});t.forEach(this.toggle_links,function(t){t.className=t.className+" "+e.highlighted_class;t.innerHTML="Hide Author Marks"})};n.prototype.hideAuthorMarks=function(){var e=this;t.forEach(this.author_marks,function(t){t.className=t.className.replace(new RegExp("\\b"+e.highlighted_class+"\\b"),"")});t.forEach(this.toggle_links,function(t){t.className=t.className.replace(new RegExp("\\b"+e.highlighted_class+"\\b"),"");t.innerHTML="Show Author Marks"})};t.addEvent(e,"load",function(){this.AuthorMarks=new n})})(this);