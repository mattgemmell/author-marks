/* ==========================================================
 * AuthorMarks Script
 * ==========================================================
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */(function(e){"use strict";function n(){this.author_marks_highlighted=!1;this.highlighted_class="marks-highlighted";this.toggle_links=document.getElementsByClassName("toggle-marks-highlight");this.author_marks=document.getElementsByClassName("author-mark");this.init();return this}Object.prototype.addEvent=function(e,t){this.addEventListener?this.addEventListener(e,t,!1):this.attachEvent&&this.attachEvent("on"+e,t)};var t=function(e){for(var t=0;t<this.length;t++)e(this[t])};typeof NodeList!="undefined"&&(NodeList.prototype.forEach=t);typeof HTMLCollection!="undefined"&&(HTMLCollection.prototype.forEach=t);n.prototype.init=function(){var e=this;this.toggle_links.forEach(function(t){t.addEvent("click",function(t){e.toggleAuthorMarks(t)})})};n.prototype.toggleAuthorMarks=function(e){this.author_marks_highlighted?this.hideAuthorMarks():this.showAuthorMarks();this.author_marks_highlighted=!this.author_marks_highlighted;typeof e!="undefined"&&e.preventDefault()};n.prototype.showAuthorMarks=function(){var e=this;this.author_marks.forEach(function(t){t.className=t.className+" "+e.highlighted_class});this.toggle_links.forEach(function(t){t.className=t.className+" "+e.highlighted_class;t.innerHTML="Hide Author Marks"})};n.prototype.hideAuthorMarks=function(){var e=this;this.author_marks.forEach(function(t){t.className=t.className.replace(new RegExp("\\b"+e.highlighted_class+"\\b"),"")});this.toggle_links.forEach(function(t){t.className=t.className.replace(new RegExp("\\b"+e.highlighted_class+"\\b"),"");t.innerHTML="Show Author Marks"})};e.addEvent("load",function(){this.AuthorMarks=new n})})(this);